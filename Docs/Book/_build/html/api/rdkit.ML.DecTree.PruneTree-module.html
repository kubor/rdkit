<?xml version="1.0" encoding="ascii"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
          "DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <title>rdkit.ML.DecTree.PruneTree</title>
  <link rel="stylesheet" href="epydoc.css" type="text/css" />
  <script type="text/javascript" src="epydoc.js"></script>
</head>

<body bgcolor="white" text="black" link="blue" vlink="#204080"
      alink="#204080">
<!-- ==================== NAVIGATION BAR ==================== -->
<table class="navbar" border="0" width="100%" cellpadding="0"
       bgcolor="#a0c0ff" cellspacing="0">
  <tr valign="middle">

  <!-- Tree link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="module-tree.html">Trees</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Index link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="identifier-index.html">Indices</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Help link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="help.html">Help</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Project homepage -->
      <th class="navbar" align="right" width="100%">
        <table border="0" cellpadding="0" cellspacing="0">
          <tr><th class="navbar" align="center"
            ><a href="http://www.rdkit.org">RDKit</a></th>
          </tr></table></th>
  </tr>
</table>
<table width="100%" cellpadding="0" cellspacing="0">
  <tr valign="top">
    <td width="100%">
      <span class="breadcrumbs">
        Package&nbsp;rdkit ::
        <a href="rdkit.ML-module.html">Package&nbsp;ML</a> ::
        <a href="rdkit.ML.DecTree-module.html">Package&nbsp;DecTree</a> ::
        Module&nbsp;PruneTree
      </span>
    </td>
    <td>
      <table cellpadding="0" cellspacing="0">
        <!-- hide/show private -->
        <tr><td align="right"><span class="options">[<a href="javascript:void(0);" class="privatelink"
    onclick="toggle_private();">hide&nbsp;private</a>]</span></td></tr>
        <tr><td align="right"><span class="options"
            >[<a href="frames.html" target="_top">frames</a
            >]&nbsp;|&nbsp;<a href="rdkit.ML.DecTree.PruneTree-module.html"
            target="_top">no&nbsp;frames</a>]</span></td></tr>
      </table>
    </td>
  </tr>
</table>
<!-- ==================== MODULE DESCRIPTION ==================== -->
<h1 class="epydoc">Module PruneTree</h1><p class="nomargin-top"><span class="codelink"><a href="rdkit.ML.DecTree.PruneTree-pysrc.html">source&nbsp;code</a></span></p>
<pre class="literalblock">
Contains functionality for doing tree pruning

</pre>

<!-- ==================== FUNCTIONS ==================== -->
<a name="section-Functions"></a>
<table class="summary" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr bgcolor="#70b0f0" class="table-header">
  <td colspan="2" class="table-header">
    <table border="0" cellpadding="0" cellspacing="0" width="100%">
      <tr valign="top">
        <td align="left"><span class="table-header">Functions</span></td>
        <td align="right" valign="top"
         ><span class="options">[<a href="#section-Functions"
         class="privatelink" onclick="toggle_private();"
         >hide private</a>]</span></td>
      </tr>
    </table>
  </td>
</tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="rdkit.ML.DecTree.PruneTree-module.html#MaxCount" class="summary-sig-name">MaxCount</a>(<span class="summary-sig-arg">examples</span>)</span><br />
      given a set of examples, returns the most common result code</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="rdkit.ML.DecTree.PruneTree-pysrc.html#MaxCount">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr class="private">
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a name="_GetLocalError"></a><span class="summary-sig-name">_GetLocalError</span>(<span class="summary-sig-arg">node</span>)</span></td>
          <td align="right" valign="top">
            <span class="codelink"><a href="rdkit.ML.DecTree.PruneTree-pysrc.html#_GetLocalError">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr class="private">
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="rdkit.ML.DecTree.PruneTree-module.html#_Pruner" class="summary-sig-name" onclick="show_private();">_Pruner</a>(<span class="summary-sig-arg">node</span>,
        <span class="summary-sig-arg">level</span>=<span class="summary-sig-default">0</span>)</span><br />
      Recursively finds and removes the nodes whose removals improve classification</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="rdkit.ML.DecTree.PruneTree-pysrc.html#_Pruner">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="rdkit.ML.DecTree.PruneTree-module.html#PruneTree" class="summary-sig-name">PruneTree</a>(<span class="summary-sig-arg">tree</span>,
        <span class="summary-sig-arg">trainExamples</span>,
        <span class="summary-sig-arg">testExamples</span>,
        <span class="summary-sig-arg">minimizeTestErrorOnly</span>=<span class="summary-sig-default">1</span>)</span><br />
      implements a reduced-error pruning of decision trees</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="rdkit.ML.DecTree.PruneTree-pysrc.html#PruneTree">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr class="private">
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a name="_testRandom"></a><span class="summary-sig-name">_testRandom</span>()</span></td>
          <td align="right" valign="top">
            <span class="codelink"><a href="rdkit.ML.DecTree.PruneTree-pysrc.html#_testRandom">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr class="private">
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a name="_testSpecific"></a><span class="summary-sig-name">_testSpecific</span>()</span></td>
          <td align="right" valign="top">
            <span class="codelink"><a href="rdkit.ML.DecTree.PruneTree-pysrc.html#_testSpecific">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr class="private">
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a name="_testChain"></a><span class="summary-sig-name">_testChain</span>()</span></td>
          <td align="right" valign="top">
            <span class="codelink"><a href="rdkit.ML.DecTree.PruneTree-pysrc.html#_testChain">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
</table>
<!-- ==================== VARIABLES ==================== -->
<a name="section-Variables"></a>
<table class="summary" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr bgcolor="#70b0f0" class="table-header">
  <td colspan="2" class="table-header">
    <table border="0" cellpadding="0" cellspacing="0" width="100%">
      <tr valign="top">
        <td align="left"><span class="table-header">Variables</span></td>
        <td align="right" valign="top"
         ><span class="options">[<a href="#section-Variables"
         class="privatelink" onclick="toggle_private();"
         >hide private</a>]</span></td>
      </tr>
    </table>
  </td>
</tr>
<tr class="private">
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
        <a name="_verbose"></a><span class="summary-name">_verbose</span> = <code title="0">0</code>
    </td>
  </tr>
</table>
<p class="indent-wrapped-lines"><b>Imports:</b>
  <span title="copy">copy</span>,
  <span title="numpy">numpy</span>,
  <a href="rdkit.ML.DecTree.CrossValidate-module.html" title="rdkit.ML.DecTree.CrossValidate">CrossValidate</a>,
  <a href="rdkit.ML.DecTree.DecTree-module.html" title="rdkit.ML.DecTree.DecTree">DecTree</a>,
  <span title="rdkit.six.moves.range">range</span>
</p><br />
<!-- ==================== FUNCTION DETAILS ==================== -->
<a name="section-FunctionDetails"></a>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr bgcolor="#70b0f0" class="table-header">
  <td colspan="2" class="table-header">
    <table border="0" cellpadding="0" cellspacing="0" width="100%">
      <tr valign="top">
        <td align="left"><span class="table-header">Function Details</span></td>
        <td align="right" valign="top"
         ><span class="options">[<a href="#section-FunctionDetails"
         class="privatelink" onclick="toggle_private();"
         >hide private</a>]</span></td>
      </tr>
    </table>
  </td>
</tr>
</table>
<a name="MaxCount"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">MaxCount</span>(<span class="sig-arg">examples</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="rdkit.ML.DecTree.PruneTree-pysrc.html#MaxCount">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <pre class="literalblock">
given a set of examples, returns the most common result code

**Arguments**

   examples: a list of examples to be counted

**Returns**

  the most common result code

</pre>
  <dl class="fields">
  </dl>
</td></tr></table>
</div>
<a name="_Pruner"></a>
<div class="private">
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">_Pruner</span>(<span class="sig-arg">node</span>,
        <span class="sig-arg">level</span>=<span class="sig-default">0</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="rdkit.ML.DecTree.PruneTree-pysrc.html#_Pruner">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <pre class="literalblock">
Recursively finds and removes the nodes whose removals improve classification

**Arguments**

  - node: the tree to be pruned.  The pruning data should already be contained
    within node (i.e. node.GetExamples() should return the pruning data)

  - level: (optional) the level of recursion, used only in _verbose printing


**Returns**

   the pruned version of node


**Notes**

 - This uses a greedy algorithm which basically does a DFS traversal of the tree,
   removing nodes whenever possible.

 - If removing a node does not affect the accuracy, it *will be* removed.  We
   favor smaller trees.

</pre>
  <dl class="fields">
  </dl>
</td></tr></table>
</div>
<a name="PruneTree"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">PruneTree</span>(<span class="sig-arg">tree</span>,
        <span class="sig-arg">trainExamples</span>,
        <span class="sig-arg">testExamples</span>,
        <span class="sig-arg">minimizeTestErrorOnly</span>=<span class="sig-default">1</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="rdkit.ML.DecTree.PruneTree-pysrc.html#PruneTree">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <pre class="literalblock">
implements a reduced-error pruning of decision trees

This algorithm is described on page 69 of Mitchell's book.

Pruning can be done using just the set of testExamples (the validation set)
or both the testExamples and the trainExamples by setting minimizeTestErrorOnly
to 0.

**Arguments**

  - tree: the initial tree to be pruned

  - trainExamples: the examples used to train the tree

  - testExamples: the examples held out for testing the tree

  - minimizeTestErrorOnly: if this toggle is zero, all examples (i.e.
    _trainExamples_ + _testExamples_ will be used to evaluate the error.

**Returns**

  a 2-tuple containing:

     1) the best tree

     2) the best error (the one which corresponds to that tree)

</pre>
  <dl class="fields">
  </dl>
</td></tr></table>
</div>
<br />
<!-- ==================== NAVIGATION BAR ==================== -->
<table class="navbar" border="0" width="100%" cellpadding="0"
       bgcolor="#a0c0ff" cellspacing="0">
  <tr valign="middle">

  <!-- Tree link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="module-tree.html">Trees</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Index link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="identifier-index.html">Indices</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Help link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="help.html">Help</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Project homepage -->
      <th class="navbar" align="right" width="100%">
        <table border="0" cellpadding="0" cellspacing="0">
          <tr><th class="navbar" align="center"
            ><a href="http://www.rdkit.org">RDKit</a></th>
          </tr></table></th>
  </tr>
</table>
<table border="0" cellpadding="0" cellspacing="0" width="100%%">
  <tr>
    <td align="left" class="footer">
    Generated by Epydoc 3.0.1
    on Tue Jan 23 10:00:34 2018
    </td>
    <td align="right" class="footer">
      <a target="mainFrame" href="http://epydoc.sourceforge.net"
        >http://epydoc.sourceforge.net</a>
    </td>
  </tr>
</table>

<script type="text/javascript">
  <!--
  // Private objects are initially displayed (because if
  // javascript is turned off then we want them to be
  // visible); but by default, we want to hide them.  So hide
  // them unless we have a cookie that says to show them.
  checkCookie();
  // -->
</script>
</body>
</html>
